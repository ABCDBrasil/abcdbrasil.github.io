<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Criando uma nova base de dados no ABCD - ABCD Brasil Docs</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Criando uma nova base de dados no ABCD | ABCD Brasil Docs</title> <meta name="generator" content="Jekyll v4.2.1" /> <meta property="og:title" content="Criando uma nova base de dados no ABCD" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Esta página foi criada para oferecer a documentação mais completa sobre o software ABCD (Automação de Bibliotecas e Centros de Documentação)." /> <meta property="og:description" content="Esta página foi criada para oferecer a documentação mais completa sobre o software ABCD (Automação de Bibliotecas e Centros de Documentação)." /> <link rel="canonical" href="http://https//abcdbrasil.github.io:80/docs/criando-uma-base/" /> <meta property="og:url" content="http://https//abcdbrasil.github.io:80/docs/criando-uma-base/" /> <meta property="og:site_name" content="ABCD Brasil Docs" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Criando uma nova base de dados no ABCD" /> <script type="application/ld+json"> {"headline":"Criando uma nova base de dados no ABCD","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://https//abcdbrasil.github.io:80/assets/images/logo.png"}},"description":"Esta página foi criada para oferecer a documentação mais completa sobre o software ABCD (Automação de Bibliotecas e Centros de Documentação).","url":"http://https//abcdbrasil.github.io:80/docs/criando-uma-base/","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://https//abcdbrasil.github.io:80/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/docs/introducao/" class="nav-list-link">Introdução</a></li><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/docs/tecnologia-abcd/" class="nav-list-link">Tecnologia ABCD</a></li><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/docs/instalacao-do-abcd/" class="nav-list-link">Instalação do ABCD</a></li><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/docs/modulos-abcd/" class="nav-list-link">Módulos ABCD</a></li><li class="nav-list-item active"><a href="http://https//abcdbrasil.github.io:80/docs/criando-uma-base/" class="nav-list-link active">Criando uma nova base de dados no ABCD</a></li><li class="nav-list-item"><a href="http://https//abcdbrasil.github.io:80/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search ABCD Brasil Docs" aria-label="Search ABCD Brasil Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="criando-uma-nova-base-de-dados-no-abcd"> <a href="#criando-uma-nova-base-de-dados-no-abcd" class="anchor-heading" aria-labelledby="criando-uma-nova-base-de-dados-no-abcd"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Criando uma nova base de dados no ABCD </h1> <p class="fs-6 fw-300">O ABCD é composto por 3 módulos principais: central, circulação e aquisição.</p> <h2 class="no_toc text-delta" id="tabela-de-conteúdo"> <a href="#tabela-de-conteúdo" class="anchor-heading" aria-labelledby="tabela-de-conteúdo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tabela de conteúdo </h2> <ol id="markdown-toc"> <li><a href="#criando-uma-nova-base-de-dados-a-partir-do-zero" id="markdown-toc-criando-uma-nova-base-de-dados-a-partir-do-zero">Criando uma nova base de dados a partir do zero</a> <ol> <li><a href="#editando-a-fdt" id="markdown-toc-editando-a-fdt">Editando a FDT</a> <ol> <li><a href="#definindo-os-campos" id="markdown-toc-definindo-os-campos">Definindo os campos</a></li> </ol> </li> </ol> </li> <li><a href="#definição-da-fst" id="markdown-toc-definição-da-fst">Definição da FST</a></li> <li><a href="#editor-de-planilha-de-entrada-de-dados" id="markdown-toc-editor-de-planilha-de-entrada-de-dados">Editor de planilha de entrada de dados</a></li> <li><a href="#editor-de-pft" id="markdown-toc-editor-de-pft">Editor de PFT</a></li> <li><a href="#copiando-uma-base-winisis-existente" id="markdown-toc-copiando-uma-base-winisis-existente">Copiando uma base WinISIS existente</a></li> <li><a href="#copiando-uma-base-de-dados-abcd-existente" id="markdown-toc-copiando-uma-base-de-dados-abcd-existente">Copiando uma base de dados ABCD existente</a></li> </ol><hr /> <p>Após a seleção da opção de menu “Criar Base de Dados” , os seguintes elementos precisam ser especificados:</p> <p>Na primeira caixa, o software pede o “nome da base de dados”, que será o nome real do arquivo interno da nova base de dados. Esses nomes não estão limitados ao antigo estilo de nomes de 6 caracteres do CDS/ISIS ou WinISIS, mas nomes curtos ainda são preferíveis. O nome, tal como apresentado para os usuários, será especificado na caixa 2: a “descrição”.</p> <p>Dica Nomes e descrições de bases de dados podem ser observados diretamente no arquivo ‘bases.tab” da pasta \ABCD\www\bases. Neste arquivo cada base de dados, disponível aos usuários, tem uma linha com os dois valores: o “nome” e a “descrição”, separados por uma barra vertical (“|”). A terceira caixa sempre fornece a opção de “nova bases de dados” – que significa a criação de uma base de dados a partir do zero – e “Base de Dados WinISIS” – significando copiar a estrutura existente de uma base (Win)ISIS, ou, de facto, de qualquer base de dados ISIS com uma FDT, FST e PFT. Também as bases de dados existentes serão fornecidas como modelos básicos a serem utilizados para criar a nova base de dados. Trataremos somente das 2 primeiras opções, visto que a cópia de uma base de dados ABCD existente é bastante simples (ABCD simplesmente cria o base de dados, copiando todos os arquivos necessários para suas pastas apropriadas e adicionando a nova base de dados à lista de bases de dados existentes). A criação de uma nova base de dados “do zero”, significando: não será baseada em um modelo existente, mas a partir de um base-zero, envolve uma boa compreensão de algumas técnicas ISIS, especialmente a linguagem de formatação, pois vai ser utilizada não só na criação do formato de apresentação da nova base de dados, mas também em vários atributos de campos específicos do ABCD (FDT e planilha de entrada) e FST para a indexação.</p> <h2 id="criando-uma-nova-base-de-dados-a-partir-do-zero"> <a href="#criando-uma-nova-base-de-dados-a-partir-do-zero" class="anchor-heading" aria-labelledby="criando-uma-nova-base-de-dados-a-partir-do-zero"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Criando uma nova base de dados a partir do zero </h2> <h3 id="editando-a-fdt"> <a href="#editando-a-fdt" class="anchor-heading" aria-labelledby="editando-a-fdt"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Editando a FDT </h3> <p>Desde a versão 1.0 do ABCD duas interfaces são fornecidas para a edição da FDT: uma completa e uma comprimida. A forma comprimida, não mostrará os subcampos a menos que o próprio campo seja selecionado pelo seu link na primeira coluna – os subcampos, então, vão aparecer no formulário subsequente, onde todos os detalhes dos subcampos podem ser editados, por exemplo, a largura das colunas como “nº de colunas”, se subcampos devem ser apresentados em uma tabela em vez de campos de entrada separados (que é o tipo padrão de entrada: Texto/Área de texto). Este editor comprimido é bastante prático e mais rápido no caso de estruturas grandes e complexas (isto é, usando muitos subcampos como o MARC). Para outras estruturas mais simples, o editor de FDT completo pode ser usado. No caso de o editor FDT completo ser selecionado ou, quando no editor comprimido, um campo é apresentado no formulário detalhado, o link na primeira coluna pode ser usado para mostrar o campo de uma forma “vertical” detalhada, apresentando assim apenas o campo selecionado em um formulário normal. Isso novamente é mais prático para lidar com os elementos individuais a serem definidos. A tela do editor de FDT é provavelmente um dos mais complicados do ABCD, que apresenta uma FDT vazia, mas visto que no ABCD esta FDT também define a planilha para entrada de dados (ou catalogação), ao contrário de outros softwares ISIS em que uma “FMT” (planilha de entrada de dados) separada, mais simples é definida, e uma vez que além disto ABCD usa alguns recursos de entrada de dados mais avançados, como picklists e validações, esta etapa é bastante exigente.</p> <p><strong>Dica A fim de “editar” o formulário, clique duas vezes em uma célula da tabela! Um clique simples apenas seleciona a linha, mas não faz a célula editável ou não invoca o menu vinculado à célula. Vamos lidar agora com cada “coluna” da tabela, mas para um teste simples, pode ser suficiente simplesmente usar apenas as primeiras 11 colunas e as 2 últimas, a parte restante sendo dedicada à definição opcional de picklists</strong></p> <h4 id="definindo-os-campos"> <a href="#definindo-os-campos" class="anchor-heading" aria-labelledby="definindo-os-campos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Definindo os campos </h4> <p><strong>Coluna 1:</strong> é apenas um número, atribuído pelo sistema. Ele pode ser usado, no entanto, se assim se desejar, para abrir a linha em uma nova janela para apresentar todas as colunas como caixas separadas para interagir, clicando sobre o hiperlink do próprio número. Tal apresentação de uma linha vazia fica assim:</p> <p><strong>Coluna 2:</strong> é sobre o “tipo” de campo, que pode ser um dos seguintes tipos:</p> <ul> <li>Campo: a unidade básica em um registro, que deve ser utilizada se o elemento NÃO for um dos seguintes tipos: um subcampo, um campo fixo, um campo fixo-MARC ou líder, ou um “grupo” que é um campo repetitivo com subcampos.</li> <li>Auto incrementar: este é um campo especial que normalmente o próprio sistema irá gerenciar, tomando o número de um pequeno arquivo “control_number.cn” da pasta “data” da base de dados, e adiciona 1 para cada registro subsequente que usa este campo. Quando, por alguma razão especial, esta numeração automática precisa ser alterada manualmente, o link “Atribuir” permitirá fazer isto.</li> <li>Subcampo: quando anteriormente foi criado um campo com valores para subcampos na coluna “subcampos” (ver abaixo), ABCD espera que posteriormente todos os subcampos sejam imediatamente descritos, seguindo ao campo ao qual pertencem. O identificador de subcampo então tem que ser colocado na coluna “subcampos” e a descrição do subcampo na coluna “Título”. Indicadores como utilizados em estruturas MARC devem ser tratados como subcampos, mas com identificadores numéricos.</li> <li>Campo fixo: permite criar um campo simples, com um tamanho fixo.</li> <li>Data (MARC 005): esta é a data especial do campo com tag 005, usado no MARC.</li> <li>MARC-Líder: a estrutura de tamanho fixo do campo Leader do MARC. É oferecido suporte dedicado para cada posição deste campo especial.</li> <li>Grupo: este é um campo com subcampos. Deve ser seguido imediatamente com os subcampos pertencentes ao grupo, mas cada série de subcampos é repetível. Um exemplo típico de um grupo é o “author” – campo com uma definição do autor contém principalmente diversas “partes” subcampos ou como nome, primeiro nome, papel etc. e documentos, em princípio, pode ter mais de um autor, portanto, este campo deve ser repetitivo. Os dados da “mesa” elemento de entrada é bastante adequado para representar um campo tão complicado em um formulário de entrada de dados: cada linha da tabela será uma repetição do campo e as colunas representam os subcampos. O tamanho das colunas pode ser definido como a “fila” parâmetro da linha primeira definição subcampo. O número de linhas na tabela de ocorrências vai definir quantas pessoas serão mostradas, mas ABCD sempre adiciona uma linha vazia para permitir a criação de ocorrências adicionais.</li> <li>Linha: é apenas um elemento gráfico para separar campos na planilha de entrada de dados. Não precisa de nenhuma outra especificação.</li> <li>Cabeçalho: é um texto curto, que pode definir uma “seção” na planilha de entrada de dados a fim de agrupar campos; ABCD fornecerá automaticamente hyperlinks dentro do formulário para navegar diretamente para qualquer uma das posições definidas. Em MARC um cabeçalho típico pode ser, por exemplo, “Entrada principal” ou “Entradas secundárias”.</li> <li>Operador e Data: este campo será automaticamente preenchido pelo ABCD, com o nome do registrado logado que edita o registro e a data da criação.</li> </ul> <p><strong>Coluna 3:</strong> é utilizada para definir a “tag” ou o identificador numérico do campo, conforme exigido pela norma ISO-2709. Estes números variam de 1 a 999. ABCD (como faz CISIS) usa muitos campos internamente com valores superiores a 1000, sendo a maioria de uso temporário. Tags de campo podem ser arbitrários (por exemplo, 1, 2, 3) mas muitas vezes devem ser respeitadas normas existentes, por exemplo, MARC21 usa “245” para o campo de título principal. É de responsabilidade de quem define a estrutura decidir sobre uma lista apropriada de tags de campo.</p> <p><strong>Coluna 4:</strong> permite identificar o campo com um “nome” ou “título”, a fim de explicar o significado do campo. Aqui qualquer descrição – de preferência curta – no idioma atual pode ser usada.</p> <p><em>**Nota ABCD, ao contrário do WinISIS e outras variantes ISIS, permite a criação de FDT para cada idioma utilizado, de forma que os nomes podem ser dependentes do idioma! **</em></p> <p><strong>Coluna 5:</strong> permite selecionar um - e apenas um! - campo em uma base de dados para ser usado como o campo “I”dentificador no qual a lista (ver, por exemplo, a “ferramenta de seleção A-Z”) será baseada. Isto não é o mesmo que o campo “chave primária” em bancos de dados relacionais, mas sim, define o campo marcado como “I” – já que esta coluna permite apenas “ativar” ou “desativar” – e, portanto, a ser utilizado para classificar os registros para seleção direta.</p> <p><strong>Coluna 6:</strong> como a anterior, só permite “ativação” ou “desativação”, neste caso para indicar se um campo é repetitivo ou não. Esta é uma decisão importante a tomar, de acordo com o ponto de vista de quem define, quanto à estrutura de dados, mas raciocínios diferentes podem ser aplicados. Por exemplo, em uma estrutura simples, o campo de “título” poderia ser considerado “repetitivo” para incluir também todos os tipos de títulos (por exemplo, subtítulos, títulos traduzidos, originais) a fim de apresentar aos usuários apenas um campo de “título”. O formato MARC requer que todos os tipos de títulos sejam definidos em campos diferentes, mas ainda assim se prefere o campo de título principal repetitivo! Em caso de qualquer dúvida, sugerimos definir os campos como repetitivos, pois é mais fácil usar um campo repetitivo apenas uma vez, em vez de exibir repetições corretamente de um campo definido como não repetitivo (nesse caso, a definição de campo tem que ser mudado na FDT e a PFT precisa ser ajustada!).</p> <p><strong>Coluna 7:</strong> permite definir os caracteres (0-9 ou a-z, “case-insensitive”) que irão identificar os subcampos, se houver. Lembre-se de que, se subcampos forem informados aqui, as linhas subsequentes DEVEM definir cada subcampo individualmente, caso contrário, um erro lógico será dado. Na linha da tabela que define o subcampo específico, esta coluna deve conter o identificador de subcampo.</p> <p><strong>Coluna 8:</strong> permite, opcionalmente, definir caracteres como pontuação (,:: etc.) que serão convertidos na mesma sequência – assim tenha cuidado e verifique se há coerência! – para identificadores de subcampos. Isto permite ao pessoal de entrada de dados usar a pontuação, em vez de os menos óbvios identificadores de subcampo, mas lembre-se que ABCD, também permite lidar com cada subcampo individualmente, sem ter que se preocupar com os identificadores (veja a seção sobre “Entrada dados”).</p> <p><strong>Coluna 9:</strong> permite definir o tipo de componente HTML de entrada, que será oferecido na planilha de entrada de dados, onde há 15 possibilidades:</p> <ul> <li>Texto/Área de texto irá apresentar uma caixa de texto de tamanho variável. O número indicado na coluna “Linhas” define o número de linhas que serão apresentadas nesta caixa.</li> <li>Texto (tamanho fixo) irá apresentar uma caixa de texto de tamanho fixo. O número indicado na coluna “Colunas” define o número de caracteres permitidos nesta caixa.</li> <li>Tabela irá apresentar uma tabela na qual, nas linhas, as ocorrências do campo podem ser entradas, e nas colunas, os subcampos das ocorrências podem ser inseridos. Os números nas respectivas “linhas” e “colunas” definem, como pode ser esperado, o número de ocorrências e subcampos que serão capturados para este campo.</li> <li>Senha apresenta uma caixa de texto a qual será preenchida com * (asterisco) para cada caractere digitado, para ocultar o conteúdo deste campo especial. Se a opção MD5 é ativada no arquivo config.php, as senhas serão criptografadas.</li> <li>Data é a opção para capturar uma data, com a assistência de um controle de JavaScript para a seleção da data de um calendário.</li> <li>Data-ISO é o campo de data no formato ISO (aaaammdd), em geral preenchido automaticamente pelo ABCD para uso interno.</li> <li>Seleção simples permitirá a seleção de apenas um elemento de uma lista de opções pré-definidas.</li> <li>Seleção múltipla permitirá a seleção de mais de um elemento de uma lista de opções pré-definidas.</li> <li>Checkbox é a opção para permitir que um ou mais caixinhas sejam assinaladas (ativadas), a fim de selecioná-los.</li> <li>Rádio é a opção para permitir que apenas um botão redondo seja ativado, a fim de selecionar a opção relacionada.</li> <li>Área HTML é a opção de apresentar ao usuário um editor de HTML completo (controle de JavaScript, no ABCD é usado o FCKEditor) para a edição, em modo WYSIWYG (What You See Is What You Get), texto com códigos HTML.</li> <li>HTML externo é a opção para criar, como em 10, um texto-com-códigos-HTML, mas não será armazenado na base de dados, e sim como um arquivo externo, com um link para este arquivo no registro ISIS.</li> <li>Carregar arquivo é a opção de apresentar um controle de JavaScript para carregar arquivos para o servidor e criar um link de acordo.</li> <li>Apenas leitura é um campo que não será editado depois de ter sido preenchido, visto que é somente leitura.</li> <li>Oculto é um campo que não será mostrado depois de ter sido preenchido.</li> </ul> <p><strong>Coluna 10:</strong> permite definir o número de “linhas” que o componente HTML de entrada de dados irá oferecer. Dependendo do tipo de entrada selecionado na coluna anterior, isso significa o número de linhas de texto que podem ser exibidas na caixa ou o número de ocorrências de um campo (em uma tabela para conter um “grupo”) que serão permitidas, etc.</p> <p><strong>Coluna 11:</strong> Tal como acontece com a coluna anterior, esta coluna permite definir um número, mas desta vez para o número de “colunas” no componente HTML de entrada, que pode ser, por exemplo, o número de caracteres (em um texto de tamanho fixo) ou o número de subcampos (em uma tabela), ou mais genericamente, a “largura” da caixa.</p> <p>Em princípio, depois de ter definido estas onze colunas e se não houver necessidade de definir “picklist”, o que resta é simplesmente definir, se quiser, um valor “default” para este campo na penúltima coluna, e indicar se uma página de ajuda para o campo atual deve ser disponibilizada. Estas páginas de ajuda devem ser referenciadas como URL’s (arquivos locais ou páginas on-line). No final da tabela são fornecidos opções para salvar a tabela, mas também para testar e validar a mesma. Aqui as opções de “Teste” e “Validação” irão respectivamente. apresentar o formulário resultante para obter uma idéia sobre o resultado e exibir a tabela em uma janela diferente, com uma mensagem indicando se existe qualquer erro de lógica ou gramatical na tabela. Isto acontece sem informar que tais erros precisam ser corrigidos antes de “salvar” ou “atualizar” a FDT com a última opção apresentada aqui. A opção “Listar” fornece uma listagem da tabela em uma janela separada, por exemplo, permitindo imprimi-la ou salvá-la como um arquivo separado.</p> <p><strong>Definição de picklists</strong> Continuamos aqui discutindo as colunas da FDT, desta vez as colunas 12-20, que (exceto para as 2 últimas) tratam de definição de “pick-lists” para serem apresentadas na planilha de entrada de dados para apoiar o controle de terminologia, controle de autoridades, ou simplesmente para facilitar a entrada de dados, fornecendo as opções disponíveis.</p> <p><strong>Coluna 13:</strong> - Tipo de pick-list: aqui definimos o tipo de lista de controle a ser utilizada, com as seguintes opções: Base de dados, Tabela ou Tesauro. Uma base de dados é na verdade uma base de dados ISIS com seu arquivo invertido, proporcionando assim um número quase ilimitado de possibilidades, no entanto é uma solução complicada. A pick-list simples (tabela) será baseada em um arquivo ASCII (ou TXT) que contém em cada linha uma opção. A opção “Tesauro” é de fato novamente uma base de dados (ISIS), mas desta vez usando uma estrutura específica de campos, com referências aos diferentes (e padronizadas) relações hierárquicas de tesauro, tais como “sinônimo”, “termo genérico”, ”termo específico”, “nota de escopo”, “use” ou “usado para”. Tal base de Tesauro, normalmente fornece maneiras de “navegar” com os termos relacionados e, portanto, oferece até um nível mais elevado de apoio à entrada de dados, fornecendo de forma científica descritores de um determinado campo científico ou tópico.</p> <p><strong>Coluna 14</strong> - Nome: aqui deve ser informado o nome de qualquer base de dados ou o arquivo no qual a lista de controle está baseada. Isto também pode ser obtido pela opção de “Browse” na coluna 15 (ver abaixo).</p> <p><strong>Coluna 15</strong> - Prefixo: aqui o prefixo curto deve ser colocado, no caso da lista ser de uma base de dados, visto que a lista será produzida a partir do arquivo invertido da base de dados e que muitas vezes será dividida em seções, através do uso de um prefixo – este é o prefixo que deve ser colocado aqui para permitir a apresentação parcial do arquivo invertido. Se por exemplo, a lista de controle é utilizada para facilitar a entrada de nomes de editores (já que muitos são usados várias vezes), provavelmente a base de dados “publishers” será indexada com o prefixo “PU=”. Colocando, então, este prefixo na coluna 16, vai mostrar apenas a seção do IF (Arquivo Invertido) com este prefixo. Coluna 16 – Browse: é um link que, quando clicado, abrirá a seguinte janela separada, o que permite a definição de algumas informações na base de dados da lista em caixas separadas, principalmente o nome da base de dados que pode ser selecionada a partir das já disponíveis.</p> <p><strong>Coluna 17</strong> - Formato de exibição (ou “listar como”): designa a PFT que define, com a Linguagem de Formatação, como os valores da lista serão exibidos. Aqui pode ser informada uma “PFT” interna, por exemplo, “v11”, ou pode ser uma referência a um formato externo, como “@myformat.pft”. Este formato externo tem que estar escrito, seguindo um padrão predefinido, a fim de ser corretamente interpretado. Veja o exemplo aqui utilizado para os arquivos de autoridades da base de dados MARC: @autoridades.pft:</p><pre><code class="language-language">select e3
case 1: v1
case 100: v100^a,`$$$`v100^a
case 110: v110^a,`$$$`v110
case 111: v111^a,`$$$`v111
case 245: v245^a,`$$$`f(mfn,1,0)
case 260: v260^a," : "v260^b
case 270: v270
case 340: v340
...
Endsel
</code></pre><p><strong>Nota No caso de a PFT conter pipes (|), estes NÃO PODEM ser usados na FDT interna, mas tem que ser colocados em uma PFT externa, referenciada a partir desta célula (isto é porque estes símbolos são também usados como separadores para os valores das colunas da FDT, gravada em formato ASCII).</strong></p> <p><strong>Coluna 18:</strong> Extrair como: define, novamente com a Linguagem de Formatação, como exatamente o conteúdo do campo precisa ser extraído a partir dos valores do campo do registro para o qual aponta a entrada na lista (como um “posting” de arquivo invertido). Se este valor for omitido, os valores serão mantidos no formato definido como “formato de exibição” na coluna anterior. Se o formato de exibição é um formato pré-definido (@xxxx) e segue as instruções para separar o formato de visualização do formato de extração por $$$, essa parte deve ser deixada em branco.</p> <p><strong>Coluna 19:</strong> Valor padrão: aqui pode ser informado um valor padrão, que pode servir para campos que muitas vezes têm, no caso específico da bases de dados, o mesmo valor, o qual então será apresentado automaticamente.</p> <p><strong>Coluna 20:</strong> Ajuda: é uma caixa de seleção (ativada ou não) que indica se um arquivo de ajuda para este campo deverá ser apresentado na planilha. As páginas de ajuda são armazenadas na pasta bases/dbn/ayudas, onde dbn representa o nome da base de dados.</p> <h2 id="definição-da-fst"> <a href="#definição-da-fst" class="anchor-heading" aria-labelledby="definição-da-fst"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Definição da FST </h2> <p>Depois de ter definido a lista de campos (e picklists para os mesmos), ISIS espera que o administrador, que está criando uma nova base de dados, vá definir não apenas quais campos serão indexados, mas também exatamente como eles devem ser indexados. Isto é o que a Tabela de Seleção de Campos (FST) se destina a fazer. Há excelentes documentos disponíveis como “páginas de ajuda” no ABCD sobre esta complicada técnica ISIS (e incluída como anexo a este manual), então aqui só apresentaremos a finalidade principal das três colunas FST. A FST contém três colunas:</p> <p><strong>O identificador</strong> Esta é uma tag (um número) que será utilizada como campo de onde o termo de índice foi obtido, por exemplo, para permitir restrições em nível de campo em pesquisa. Em geral, esta tag irá corresponder ao campo real de onde o valor foi tomado, mas pode ser também um “campo virtual” (por exemplo, o grupo de vários títulos em um “campo de título” para simplificar a estrutura para a pesquisa). Por exemplo, pode-se criar a pesquisa muito popular “TODOS OS CAMPOS” (usuários Google não conhecem nada além disto!) pela indexação de todos os campos significativos com um e mesmo IDentificador, por exemplo, “999” para permitir uma pesquisa “não-desdobrada”.</p> <p><strong>A técnica de indexação</strong> ISIS avalia nove técnicas para indexação, mas basicamente podem ser reduzidas a duas opções principais: o campo no todo (abreviado para os primeiros 60 caracteres no ABCD) - chamada de “por linha” – ou uma indexação de texto completo - chamada “por palavra”. As técnicas de indexação de 5-9 são otimizadas para indexação usando um “prefixo” (uma pequena tag precedendo os termos para agrupá-los na mesma seção do índice geral ou arquivo invertido em ordem alfabética).</p> <p><strong>O formato de extração</strong> Aqui é especificado o formato para produzir a string a ser indexada, usando a Linguagem de Formatação ISIS. Todos os recursos da Linguagem de Formatação (exceto funções de apresentação) podem ser utilizados, incluindo REFerências a outras bases de dados.</p> <p>A interface do ABCD torna a criação de tal FST tão fácil quanto possível (mas na realidade não é fácil, por causa das possibilidades avançadas disponíveis!), não apenas por fornecer a FST em 3 colunas editáveis, mas também, com uma referência à FDT, a partir da qual os campos podem ser usados com suas tags, e também para indicar se têm subcampos e se são repetitivos ou não.</p> <p>Como pode ser observado neste exemplo, que usa formatos de extração muito simples, preferimos sempre prefixos, por exemplo, ‘ID_’ tendo em vista algumas opções embutidas da interface OPAC iAH para o ABCD, recomendamos a utilização de prefixos de 3 caracteres terminando com um sublinha (‘_’). Como a Linguagem de Formatação (o recurso mais poderosa do ISIS) pode ser usada aqui na sua capacidade total (sem os recursos de apresentação gráfica), os valores podem ser processados antes de entrarem no dicionário, por exemplo, ‘N:’, f (mfn, 1,0) produz o número do registro ou MFN, formatado (f) como uma string, mas exemplos mais complicados podem ser dados, por exemplo:</p> <ul> <li>uma combinação de vários campos ou subcampos acrescidos de pontuação.</li> <li>formatos usando a função REF para se referir a bases de dados externos para obter valores dos mesmos depois de localizar o MFN com a função L – assim, por exemplo, códigos podem ser convertidos em valores para o dicionário. Depois de ter editado a FST, ela pode ser testada, com qualquer registro da base de dados, para verificar se os valores reais que serão indexados de fato atendem o que se pretende.</li> </ul> <h2 id="editor-de-planilha-de-entrada-de-dados"> <a href="#editor-de-planilha-de-entrada-de-dados" class="anchor-heading" aria-labelledby="editor-de-planilha-de-entrada-de-dados"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Editor de planilha de entrada de dados </h2> <p>Como em qualquer aplicação ISIS, o ABCD permite a criação de muitas planilhas diferentes para diferentes objetivos, como por exemplo, para lidar apenas com um subconjunto menor de campos, ou com os campos em uma sequência diferente, etc. Por essa razão ABCD oferece nesta opção uma ferramenta fácil de selecionar quais campos devem ser apresentados na (nova ou editada) planilha e em que sequência devem ser apresentados:</p> <p>No caso de uma planilha existente precisar ser editada, ela pode ser selecionada (na parte superior da interface) a partir de uma lista - onde, possivelmente, também uma planilha existente pode ser excluída, se assim o desejar. A parte principal da planilha apresenta a lista de campos disponíveis, com a possibilidade de copiar qualquer campo () ou todos os campos () para a lista de campos da planilha no lado direito. Finalmente, a planilha pode ser salva no sistema com um nome interno (curto e somente minúsculas) e uma descrição para fácil identificação.</p> <h2 id="editor-de-pft"> <a href="#editor-de-pft" class="anchor-heading" aria-labelledby="editor-de-pft"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Editor de PFT </h2> <p>Considerando que a Linguagem de Formatação ISIS é uma ferramenta muito poderosa, com muitas possibilidades, um documento específico é acrescentado sobre o “(C)ISIS - Linguagem de Formatação” como anexo a este manual sobre ABCD, mas também pode ser consultado em um link fornecido nesta interface PFT do ABCD. Aqui apenas explicamos brevemente como a interface ABCD permite a criação fácil de qualquer formato HTML (para apresentação em páginas Web) ou formatos “delimitados” (para exportação para um arquivo com campos delimitados por vírgula). O Editor de PFT possui quatro partes:</p> <p><strong>Parte 1:</strong> Uso de um formato existente: uma lista de PFT’s existentes será disponibilizada para selecionar. Também pode ser excluído ou carregado (upload) a partir de um arquivo externo, se ainda não estiver disponível. O formato, então, será apresentado com um editor para fazer modificações no mesmo.</p> <p><strong>Parte 2:</strong> criar um formato: tal como com outros editores de tabela no ABCD, primeiro é apresentada uma lista de campos disponíveis, que podem ser copiados individualmente ou todos juntos para o formato e depois re-ordenados.</p> <p><strong>Nota Truques de seleção do Windows podem ser usados aqui: Ctrl-clique para adicionar uma entrada à sua seleção ou Shift-clique para selecionar todas as opções até a posição do cursor.</strong></p> <p><strong>Parte 3:</strong> gerar saída: como mencionado e mostrado acima, gerando saída para testar a FTP pode ser um dos três pré-definidas formas padrões de apresentação dos dados de sua base: página Web “formatado como tabela” (em colunas), página Web “formatada por parágrafo” (sem colunas), ou - alternativamente, para fins bem diferentes - um formato delimitado para exportação para outros softwares. ABCD irá gerar imediatamente o código necessário, combinando tags HTML como ‘literais’ entre aspas com os valores dos campos (Vx).</p> <p>No caso de ser selecionado um formato baseado em “coluna” (se “delimitado” vai permitir a exportação para softwares, como planilhas eletrônicas e ferramentas de análise estatística), no quadrado da direita os (sequência dos) cabeçalhos das colunas podem ser definidos, por default, serão usados os nomes de campos já definidos.</p> <p>Este formato então pode ser “testado” imediatamente com um intervalo de registros ou uma seleção definida por uma expressão de pesquisa.</p> <p>Isso resultará, quando “pré-visualizado” na interface, ao contrário de “enviada para um documento ou planilha eletrônica” (esta última opção é ideal quando os dados de saída são “delimitados”), em um formato de exibição semelhante ao seguinte:</p> <p><strong>Nota Neste exemplo, os códigos de subcampos ainda são visíveis, mas simplesmente acrescentando um comando de “modo” como “mhl” ao formato, ISIS irá ocultá-los. As outras funções de definição/edição de definições de bases dados do ABCD serão discutidas abaixo, quando se tratar da seção “Atualizar definição de bases de dados”.</strong></p> <h2 id="copiando-uma-base-winisis-existente"> <a href="#copiando-uma-base-winisis-existente" class="anchor-heading" aria-labelledby="copiando-uma-base-winisis-existente"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Copiando uma base WinISIS existente </h2> <p>Aqui estão os passos a serem seguidos para criar uma base de dados ABCD a partir de sua base de dados WinISIS existente: <strong>Passo 1:</strong> exporte seus registros existentes para arquivo ISO, usando WinISIS (ou outra ferramenta ISIS que permita exportar no formato ISO); lembrar onde você salvou este arquivo ISO exportado, normalmente estará na pasta WORK de sua instalação WinISIS. Não precisam ser definidos parâmetros específicos, a não ser, é claro, que você queira usar apenas um subconjunto dos registros da base de dados (usando intervalo de MFN, ou um resultado de pesquisa) ou se você necessita “converter” (reformatar) os registros através do uso de uma “FST de reformatação”, antes de importá-los no ABCD.</p> <p><strong>Passo 2:</strong> atribuir no ABCD, depois de ter selecionado a opção “Importar de WinISIS”, um nome e uma descrição – como acontece com uma nova base de dados, ver acima. Em seguida, selecione sua base de dados WinISIS, usando a lista da parte do diálogo “Criar a partir de”.</p> <p><strong>Passo 3:</strong> selecione a FDT pertencente a esta base de dados e clique em “Carregar” para ter a FDT carregada para o ambiente ABCD da nova base de dados.</p> <p><strong>Passo 4:</strong> selecione a FST pertencente a esta base de dados e clique em “Carregar” para ter a FST carregado para o ambiente ABCD da nova base de dados.</p> <p><strong>Passo 5:</strong> selecione a PFT pertencente a esta base de dados e clique em “Carregar” para ter a PFT carregado para o ambiente ABCD da nova base de dados.</p> <p><strong>Advertência A maioria das bases WinISIS usa uma PFT default (com o nome da base de dados) que contém códigos típicos de Windows (ao contrário de HTML), como por exemplo, “BOX”, “FS”, etc. Estes códigos irão resultar em um “erro gramatical” quando for abrir no ABCD, por isso é melhor evitar isso selecionando uma PFT sem tais elementos típicos do Windows! Se não estiver disponível, lembre-se de recriar um formato baseada em HTML no ABCD para substituir a PFT default da nova base de dados.</strong></p> <p><strong>Passo 6:</strong> clique na opção “Criar base de dados”, para que o ABCD comece a gravar as pastas e arquivos necessários para sua nova base de dados. Uma mensagem que a criação foi bem sucedida (ou não, em caso de problemas) será exibida na tela. Também será lembrado do fato de que, sem a atribuição desta base de dados como acessível para pelo menos a um usuário, você não será capaz de utilizar esta base de dados.</p> <p><strong>Passo 7:</strong> agora você pode abrir a nova base de dados, visto que se tornou parte da lista na janela principal de administração de bases de dados.</p> <p><strong>Passo 8:</strong> como a base de dados pode ser aberta, mas com 0 registros, a primeira coisa a fazer é importar os registros ISO criados no primeiro passo desta sequência. Para este fim, clique no ícone “Utilitários” da barra de ferramentas principal da tela de entrada de dados (conforme descrito na seção dedicada a isto) e selecione a opção “Importação ISO”. Este procedimento, como pode ser esperado, envolve a seleção do arquivo ISO fonte, que então deve ser “carregado”</p> <p><strong>Passo 9:</strong> agora, um pouco estranho, o arquivo ISO está pronto para ser efetivamente importado para a base de dados. Para isso, clique novamente no ícone “Utilitários” da barra de ferramentas e selecione “Importar ISO”, onde agora o arquivo ISO que foi “carregado” está efetivamente disponível para importação (converção) para sua base de dados ABCD. O software irá perguntar se está OK, para realmente começar a importar os registros ISO do arquivo selecionado. A lista de registros importados será mostrada na tela para monitorar seu progresso e sucesso.</p> <p><strong>Passo 10:</strong> se os seus recém importados registros não são exibidos imediatamente na base de dados, reabrir a base de dados a partir do menu principal irá atualizar os parâmetros da base.</p> <p><strong>Passo 11:</strong> agora os registros devem estar visíveis e editáveis como registros normais, só que ainda não foram indexados no arquivo invertido. Então use a opção de “Geração do arquivo invertido” da seção “Utilitários” da tela de “Utilitários”.</p> <p><strong>Advertência Se a sua série de registros importados é muito grande (por exemplo, acima de algumas centenas), é possível, dependendo do sistema com que você está trabalhando, que o processo será muito demorado para o servidor Web (Apache, na maioria dos casos) e não será permitido terminar o mesmo. Por esta razão, será necessário, em tais casos, não executar a ação de geração do arquivo invertido do ABCD (como um ambiente Web), mas diretamente a partir da linha de comando, usando ferramentas CISIS (para os quais uma outra seção do presente manual dará os detalhes).</strong></p> <h2 id="copiando-uma-base-de-dados-abcd-existente"> <a href="#copiando-uma-base-de-dados-abcd-existente" class="anchor-heading" aria-labelledby="copiando-uma-base-de-dados-abcd-existente"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Copiando uma base de dados ABCD existente </h2> <p>Esta última opção é a mais fácil de realizar, já que apenas um novo nome e uma descrição precisam ser inseridos, após o que ABCD irá simplesmente reproduzir todos os arquivos necessários de uma nova estrutura de pastas para a nova base de dados. As bases de dados fonte, das quais você pode escolher, são as que constam do menu bases de dados, em outras palavras: as descrições de bases de dados que constam do arquivo “bases.dat”, na pasta bases do ABCD. O sistema irá simplesmente - como acima - listar todos os arquivos copiados e criados em sua própria estrutura de pastas e é isto! Uma base de dados vazia, como uma cópia de base de dados ABCD existente, mas com novo nome e nova descrição, estará disponível para uso normal.</p> <hr> <footer> <p><a href="#top" id="back-to-top">Voltar ao topo</a></p> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2008-2021 ABCD Brasil. Distribuído por <a href="https://abcd-community.org">ABCD Community.</a></p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/ABCDBrasil/abcdbrasil.github.io/tree/master/docs/criando-uma-base.md" id="edit-this-page">Edite esta página no GitHub</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
